___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Mhub Cloud Event",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "https://mhubcloud.com/",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "schema",
    "displayName": "Event Schema",
    "simpleValueType": true,
    "help": "Path of the schema. Example: \"mhub/purchase\"",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventCode",
    "displayName": "Event Code",
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventName",
    "displayName": "Event Name",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "eventValue",
    "displayName": "Event Value",
    "simpleValueType": true,
    "defaultValue": 0,
    "valueValidators": [
      {
        "type": "NUMBER"
      },
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "eventId",
    "displayName": "Event Id",
    "simpleValueType": true,
    "help": "Event ID is used for deduplication of events. It is not mandatory. Use it in case when you are also sending this event by frontend measurement. In that case you must use same ID in both measurements."
  },
  {
    "type": "TEXT",
    "name": "region",
    "displayName": "Region",
    "simpleValueType": true,
    "help": "Region is used for distinction of separated business units. It could be literally region for example like country code. Or it could be just identification of explicit website (in that case you can use hostname). Or you can choose whatever business unit identification you want.",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "gtmVersion",
    "displayName": "Container Version",
    "simpleValueType": true,
    "defaultValue": "{{Container Version}}",
    "help": "This is a constant value. Do not modify this value!"
  },
  {
    "type": "TEXT",
    "name": "gtmId",
    "displayName": "Container Id",
    "simpleValueType": true,
    "defaultValue": "{{Container ID}}",
    "help": "This is a constant value. Do not modify this value!"
  },
  {
    "type": "TEXT",
    "name": "publisherCode",
    "displayName": "Publisher Code",
    "simpleValueType": true,
    "help": "This code could be used for differentiating accounts. It is advisable to send there value which is describing business unit. Website domain is right value in many cases.",
    "defaultValue": "{{Page Hostname}}"
  },
  {
    "type": "PARAM_TABLE",
    "name": "customProperties",
    "displayName": "Custom Properties",
    "paramTableColumns": [
      {
        "param": {
          "type": "TEXT",
          "name": "key",
          "displayName": "Key",
          "simpleValueType": true
        },
        "isUnique": true
      },
      {
        "param": {
          "type": "TEXT",
          "name": "value",
          "displayName": "Value",
          "simpleValueType": true
        },
        "isUnique": false
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require('logToConsole');
const copyFromWindow = require('copyFromWindow');
const setInWindow = require('setInWindow');
const makeNumber = require('makeNumber');

// Setting required event values
var context = {};
context["$schema"] = data.schema;
context.value = makeNumber(data.eventValue);
context.event = {
    code: data.eventCode,
    name: data.eventName,
    id: data.eventId,
    region: data.region
};

// Setting publisher
context.publisher = {
    code: data.publisherCode || "xx",
    tm: data.gtmId,
    tmv: data.gtmVersion
};

if(data.eventId){
  context.event.id = data.eventId + "";
}

// Adding custom properties
var customProperties = data.customProperties;
for(var index in customProperties){
    context[customProperties[index].key] = customProperties[index].value;
}
log(context);
// Event dispatch
if(copyFromWindow("mhubc")){
    copyFromWindow("mhubc").push(context);
} else {
    setInWindow("mhubc", []);
    copyFromWindow("mhubc").push(context);
}

// Call data.gtmOnSuccess when the tag is finished.
data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "mhubc"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: test1
  code: |-
    const mockData = {
      // Mocked field values
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 24. 3. 2022 13:54:21


